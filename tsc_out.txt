
> tac-cargo@1.0.0 typecheck
> tsc --noEmit

lib/services/exceptionService.ts(75,12): error TS2352: Conversion of type '{ assigned_to_staff_id: string | null; created_at: string | null; description: string; id: string; images: Json; org_id: string; reported_by_staff_id: string | null; resolution: string | null; ... 7 more ...; assigned_to: SelectQueryError<...>; }[]' to type 'ExceptionWithRelations[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ assigned_to_staff_id: string | null; created_at: string | null; description: string; id: string; images: Json; org_id: string; reported_by_staff_id: string | null; resolution: string | null; ... 7 more ...; assigned_to: SelectQueryError<...>; }' is not comparable to type 'ExceptionWithRelations'.
    Types of property 'assigned_to' are incompatible.
      Type 'SelectQueryError<"Could not embed because more than one relationship was found for 'staff' and 'exceptions' you need to hint the column with staff!<columnName> ?">' is not comparable to type '{ id: string; full_name: string; } | undefined'.
lib/services/exceptionService.ts(95,12): error TS2352: Conversion of type '{ assigned_to_staff_id: string | null; created_at: string | null; description: string; id: string; images: Json; org_id: string; reported_by_staff_id: string | null; resolution: string | null; ... 7 more ...; assigned_to: SelectQueryError<...>; }' to type 'ExceptionWithRelations' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'assigned_to' are incompatible.
    Type 'SelectQueryError<"Could not embed because more than one relationship was found for 'staff' and 'exceptions' you need to hint the column with staff!<columnName> ?">' is not comparable to type '{ id: string; full_name: string; } | undefined'.
lib/services/exceptionService.ts(115,12): error TS2352: Conversion of type '{ assigned_to_staff_id: string | null; created_at: string | null; description: string; id: string; images: Json; org_id: string; reported_by_staff_id: string | null; resolution: string | null; ... 7 more ...; assigned_to: SelectQueryError<...>; }[]' to type 'ExceptionWithRelations[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ assigned_to_staff_id: string | null; created_at: string | null; description: string; id: string; images: Json; org_id: string; reported_by_staff_id: string | null; resolution: string | null; ... 7 more ...; assigned_to: SelectQueryError<...>; }' is not comparable to type 'ExceptionWithRelations'.
    Types of property 'assigned_to' are incompatible.
      Type 'SelectQueryError<"Could not embed because more than one relationship was found for 'staff' and 'exceptions' you need to hint the column with staff!<columnName> ?">' is not comparable to type '{ id: string; full_name: string; } | undefined'.
lib/services/manifestService.ts(826,12): error TS2352: Conversion of type '({ cn_number: string | null; created_at: string | null; event_code: string | null; event_time: string | null; hub_id: string | null; id: string | null; location: string | null; shipment_id: string | null; source: string | null; } | { ...; })[]' to type 'ManifestScanLog[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ cn_number: string | null; created_at: string | null; event_code: string | null; event_time: string | null; hub_id: string | null; id: string | null; location: string | null; shipment_id: string | null; source: string | null; } | { ...; }' is not comparable to type 'ManifestScanLog'.
    Type '{ cn_number: string | null; created_at: string | null; destination_hub_id: string | null; id: string | null; mode: string | null; origin_hub_id: string | null; package_count: number | null; service_level: string | null; status: string | null; total_weight: number | null; updated_at: string | null; }' is missing the following properties from type 'ManifestScanLog': manifest_id, shipment_id, raw_scan_token, normalized_token, and 4 more.
lib/services/rbacService.ts(68,12): error TS2352: Conversion of type 'SupabaseClient<Database, "public", "public", { Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: Json; before: Json; created_at: string | null; ... 5 more ...; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 more ...; tracking_event...' to type 'SupabaseClient<RBACDatabase, "public", "public", never, { PostgrestVersion: "14.1"; }>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'Database' is not comparable to type 'RBACDatabase'.
    Type 'Database' is not comparable to type '{ public: Omit<{ Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: Json; before: Json; created_at: string | null; entity_id: string; entity_type: string; id: string; ip_address: string | null; org_id: string; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relatio...'.
      Types of property 'public' are incompatible.
        Type '{ Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: Json; before: Json; created_at: string | null; entity_id: string; entity_type: string; id: string; ip_address: string | null; org_id: string; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; ...' is not comparable to type 'Omit<{ Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: Json; before: Json; created_at: string | null; entity_id: string; entity_type: string; id: string; ip_address: string | null; org_id: string; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [....'.
          Type '{ Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: import("C:/logi/tac-portal/lib/database.types").Json; before: import("C:/logi/tac-portal/lib/database.types").Json; ... 6 more ...; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 ...' is not comparable to type '{ Tables: { audit_logs: { Row: { action: string; actor_staff_id: string | null; after: import("C:/logi/tac-portal/lib/database.types").Json; before: import("C:/logi/tac-portal/lib/database.types").Json; ... 6 more ...; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 ...'.
            Types of property 'Tables' are incompatible.
              Type '{ audit_logs: { Row: { action: string; actor_staff_id: string | null; after: import("C:/logi/tac-portal/lib/database.types").Json; before: import("C:/logi/tac-portal/lib/database.types").Json; ... 6 more ...; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 more ...; ...' is not comparable to type '{ audit_logs: { Row: { action: string; actor_staff_id: string | null; after: import("C:/logi/tac-portal/lib/database.types").Json; before: import("C:/logi/tac-portal/lib/database.types").Json; ... 6 more ...; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 more ...; ...'.
                Type '{ audit_logs: { Row: { action: string; actor_staff_id: string | null; after: Json; before: Json; created_at: string | null; entity_id: string; entity_type: string; id: string; ip_address: string | null; org_id: string; user_agent: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; ... 19 ...' is not comparable to type 'RBACTables'.
                  The types of 'role_permissions.Relationships' are incompatible between these types.
                    Type '[{ foreignKeyName: "role_permissions_permission_code_fkey"; columns: ["permission_code"]; isOneToOne: false; referencedRelation: "permissions"; referencedColumns: ["code"]; }]' is not comparable to type '[]'.
                      Source has 1 element(s) but target allows only 0.
lib/services/shipmentService.ts(93,12): error TS2352: Conversion of type '{ cn_number: string; chargeable_weight: number | null; created_at: string | null; current_hub_id: string | null; customer_id: string; declared_value: number | null; deleted_at: string | null; ... 26 more ...; invoice: { ...; }[]; }[]' to type 'ShipmentWithRelations[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ cn_number: string; chargeable_weight: number | null; created_at: string | null; current_hub_id: string | null; customer_id: string; declared_value: number | null; deleted_at: string | null; ... 26 more ...; invoice: { ...; }[]; }' is not comparable to type 'ShipmentWithRelations'.
    Types of property 'invoice' are incompatible.
      Type '{ id: string; invoice_no: string; status: string; total: number; }[]' is missing the following properties from type '{ id: string; invoice_no: string; status: string; total: number; }': id, invoice_no, status, total
lib/services/shipmentService.ts(115,12): error TS2352: Conversion of type '{ cn_number: string; chargeable_weight: number | null; created_at: string | null; current_hub_id: string | null; customer_id: string; declared_value: number | null; deleted_at: string | null; ... 26 more ...; invoice: { ...; }[]; }' to type 'ShipmentWithRelations' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'invoice' are incompatible.
    Type '{ id: string; invoice_no: string; status: string; total: number; }[]' is missing the following properties from type '{ id: string; invoice_no: string; status: string; total: number; }': id, invoice_no, status, total
